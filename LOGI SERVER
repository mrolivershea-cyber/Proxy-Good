Last login: Wed Nov  5 08:32:19 on ttys000
exchange@Mysteriouss-Air ~ % ssh root@195.26.255.18
root@195.26.255.18's password: 
Welcome to Ubuntu 22.04.5 LTS (GNU/Linux 5.15.0-160-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/pro

 System information as of Wed Nov  5 04:36:47 CET 2025

  System load:           0.0
  Usage of /:            0.6% of 387.48GB
  Memory usage:          1%
  Swap usage:            0%
  Processes:             157
  Users logged in:       0
  IPv4 address for eth0: 195.26.255.18
  IPv6 address for eth0: 2605:a140:2288:1987::1


Expanded Security Maintenance for Applications is not enabled.

0 updates can be applied immediately.

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status

New release '24.04.3 LTS' available.
Run 'do-release-upgrade' to upgrade to it.


*** System restart required ***
  _____
 / ___/___  _  _ _____ _   ___  ___
| |   / _ \| \| |_   _/ \ | _ )/ _ \
| |__| (_) | .` | | |/ _ \| _ \ (_) |
 \____\___/|_|\_| |_/_/ \_|___/\___/

Welcome!

This server is hosted by Contabo. If you have any questions or need help,
please don't hesitate to contact us at support@contabo.com.

Last login: Wed Nov  5 02:32:32 2025 from 113.189.109.248
root@vmi2881987:~# sudo bash /opt/tor-socks-farm/scripts/install.sh
=== Tor-SOCKS Farm Installation Script ===
Starting installation process...
Installing packages: tor, netcat-traditional, jq, build-essential...
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
build-essential is already the newest version (12.9ubuntu3).
netcat-traditional is already the newest version (1.10-47).
tor is already the newest version (0.4.6.10-1).
jq is already the newest version (1.6-2.1ubuntu3.1).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
3proxy already installed
Creating system users...
Installing systemd units...
Disabling IPv6...
net.ipv6.conf.all.disable_ipv6 = 1
net.ipv6.conf.default.disable_ipv6 = 1
net.ipv6.conf.lo.disable_ipv6 = 1
Creating directories...
Reloading systemd daemon...
=== Installation completed successfully ===

⚠️  SECURITY WARNING ⚠️
Default passwords in config/users.csv and config/control.password are WEAK!
For production use, generate strong passwords:
  openssl rand -base64 32 > /opt/tor-socks-farm/config/control.password
  for i in {1..50}; do PASS=$(openssl rand -base64 16); printf "%03d,user%03d,%s\n" $i $i "$PASS"; done > /opt/tor-socks-farm/config/users.csv.new

Next steps:
  1. Run: bash /opt/tor-socks-farm/scripts/deploy_tor_instances.sh 50
  2. Run: bash /opt/tor-socks-farm/scripts/deploy_3proxy_endpoints.sh 50
  3. Run: bash /opt/tor-socks-farm/scripts/enable_rotation.sh
  4. Run: bash /opt/tor-socks-farm/firewall/hardening.sh
root@vmi2881987:~# sudo bash /opt/tor-socks-farm/scripts/deploy_tor_instances.sh 50
=== Deploying 50 Tor instances ===
Deploying instance 001 (SOCKS: 9001, Control: 9101)...
Deploying instance 002 (SOCKS: 9002, Control: 9102)...
Deploying instance 003 (SOCKS: 9003, Control: 9103)...
Deploying instance 004 (SOCKS: 9004, Control: 9104)...
Deploying instance 005 (SOCKS: 9005, Control: 9105)...
Deploying instance 006 (SOCKS: 9006, Control: 9106)...
Deploying instance 007 (SOCKS: 9007, Control: 9107)...
/opt/tor-socks-farm/scripts/deploy_tor_instances.sh: line 30: printf: 008: invalid octal number
root@vmi2881987:~# sudo bash /opt/tor-socks-farm/scripts/deploy_3proxy_endpoints.sh 50
=== Deploying 50 3proxy endpoints ===
/opt/tor-socks-farm/scripts/deploy_3proxy_endpoints.sh: line 41: BASE_SOCKS_PORT + 10##: invalid integer constant (error token is "10##")

=== Verifying endpoints ===
✗ Endpoint 001 failed to start
✗ Endpoint 002 failed to start
✗ Endpoint 003 failed to start
✗ Endpoint 004 failed to start
✗ Endpoint 005 failed to start
✗ Endpoint 006 failed to start
✗ Endpoint 007 failed to start
/opt/tor-socks-farm/scripts/deploy_3proxy_endpoints.sh: line 49: printf: 008: invalid octal number
root@vmi2881987:~# sudo bash /opt/tor-socks-farm/scripts/enable_rotation.sh
=== Enabling Tor Identity Rotation ===
Setting rotation interval to 30 minutes...
Created symlink /etc/systemd/system/timers.target.wants/rotate.timer → /etc/systemd/system/rotate.timer.

=== Rotation timer enabled successfully ===
Rotation interval: 30 minutes
First rotation: 5 minutes after boot

Check timer status with: systemctl status rotate.timer
Check rotation logs with: journalctl -u rotate.service

To manually trigger rotation now, run:
  systemctl start rotate.service
root@vmi2881987:~# sudo bash /opt/tor-socks-farm/firewall/hardening.sh
=== Applying Security Hardening ===
Applying Tor iptables rules...
=== Applying Tor-specific iptables rules ===
Creating backup: /root/iptables.backup.1762313852
Tor UID: 113
Blocking DNS queries from non-Tor processes...
✓ DNS isolation rules applied

=== iptables rules applied successfully ===

Backup saved to: /root/iptables.backup.1762313852

To rollback these changes, run:
  iptables-restore < /root/iptables.backup.1762313852

Current OUTPUT rules:
Chain OUTPUT (policy ACCEPT 0 packets, 0 bytes)
num   pkts bytes target     prot opt in     out     source               destination         
1        0     0 REJECT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            tcp dpt:53 ! owner UID match 113 reject-with icmp-port-unreachable
2        0     0 REJECT     udp  --  *      *       0.0.0.0/0            0.0.0.0/0            udp dpt:53 ! owner UID match 113 reject-with icmp-port-unreachable

=== Security Hardening Summary ===
✓ DNS isolation: Only debian-tor user can make DNS queries
✓ IPv6 disabled: Prevents IPv6 leaks
✓ Tor instances: Bound to 127.0.0.1 only
✓ 3proxy authentication: Required for all connections

Security hardening completed successfully!
root@vmi2881987:~# 
